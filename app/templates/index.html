<!DOCTYPE html>
<!-- Based on HTML5 Bones | http://html5bones.com -->

<html lang="en" ng-app="stocky">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Stocky</title>
  
  <meta name="description" content="">
  
  <!-- Style sheet link -->
  <link href="static/bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="static/bower_components/datatables-fixedcolumns/css/dataTables.fixedColumns.css" rel="stylesheet">
  <link href="static/css/main.css" rel="stylesheet">

  <script src="static/bower_components/jquery/dist/jquery.min.js"></script>
  <script src="static/bower_components/datatables/media/js/jquery.dataTables.min.js"></script>
  <script src="static/bower_components/angular/angular.min.js"></script>
  <script src="static/bower_components/angular-bootstrap/ui-bootstrap.min.js"></script>
  <script src="static/bower_components/angular-resource/angular-resource.min.js"></script>
  <script src="static/bower_components/angular-datatables/dist/angular-datatables.min.js"></script>
  <script src="static/bower_components/datatables-fixedcolumns/js/dataTables.fixedColumns.js"></script>
  <script src="static/bower_components/angular-datatables/dist/plugins/fixedcolumns/angular-datatables.fixedcolumns.min.js"></script>
  <script src="static/js/main.js"></script>
  <script src="static/js/controllers/mainController.js"></script>
  <script src="static/js/controllers/compTableController.js"></script>

</head>
<body ng-controller="mainController">
  <nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container-fluid">
      <div class="navbar-header">
        <a class="navbar-brand" href="/">Stocky</a>
      </div>
    </nav>

    <div class="container-fluid">
      <div class="row">
        <!--
        <div class="col-sm-3 col-md-2 sidebar">
          <ul class="nav nav-sidebar">
            <li class="active"><a href="#">Competitive Analysis <span class="sr-only">(current)</span></a></li>
          </ul>
        </div>
  -->
        <div class="col-sm-12 col-md-12 main">
          <h1 class="page-header">Competitive Analysis</h1>
          <form class="form-inline">
            <div class="form-group">
             <label class="sr-only">Ticker</label>
             <p class="form-control-static">Ticker</p>
           </div>
           <div class="form-group">
             <input type="text" ng-model="ticker" class="form-control" placeholder="FB">
           </div>
           <button type="submit" class="btn btn-success" ng-click="go()">Go</button>
         </form>

        <table ng-if="profile.sector" class="table table-bordered" id="profileGrid">
          <tr>
            <th>Sector</th>
            <td>{{profile['sector']}}</td>
          </tr>
          <tr>
            <th>Industry</th>
            <td>{{profile['industry']}}</td>
          </tr>
        </table>

         <h2 class="sub-header">Data <span ng-if="data.length">({{tickerDisplay}})</span></h2>
         <div class="table-responsive" id="compGrid" ng-controller="compTableController">
          <table class="table table-bordered" datatable="ng"  dt-instance="dtInstance" dt-options="tableOptions" dt-column-defs="tableColumnDefs" dt-disable-deep-watchers="true">
            <thead>
              <tr>
                <th rowspan="2" id="tickerColumn">Ticker</th>
                <th colspan="4">Overview</th>
                <th colspan="4">Liquidity</th>
                <th colspan="6">Profitability</th>
                <th colspan="5">Solvency</th>
                <th colspan="3">Operation (Manufacturing and Merchandise)</th>
                <th colspan="4">Cash Flow</th>
                <th colspan="8">Valuation</th>
              </tr>
              <tr>
                <th>Market Capitalization</th>
                <th>Stock Price</th>
                <th>52 Week Range</th>
                <th>Short Interest Ratio</th>

                <th>Current Ratio</th>
                <th>Quick Ratio</th>
                <th>Cash Conversion Cycle</th>
                <th>Cash Ratio</th>

                <th>Gross Profit Margin</th>
                <th>Operating Profit Margin</th>
                <th>Net Profit Margin</th>
                <th>Return on Assets</th>
                <th>Return on Equity</th>
                <th>Return on Invested Capital</th>

                <th>Debt to Asset</th>
                <th>Debt to Equity</th>
                <th>Capital Structure</th>
                <th>Interest Coverage Ratio</th>
                <th>FCF to Debt</th>

                <th>Asset Turnover Ratio</th>
                <th>Operating Cycle</th>
                <th>Inventory Cycle</th>

                <th>Operating Cash Flow/Sales</th>
                <th>Free Cash Flow / Operating Cash</th>
                <th>Cash Flow Coverage</th>
                <th>Dividend/Share</th>

                <th>Price/Book</th>
                <th>P/E (Forward, Trailing)</th>
                <th>P/E to Growth</th>
                <th>Price/Sales</th>
                <th>Price/NAV</th>
                <th>Dividend Yield</th>
                <th>Cash Flow Coverage</th>
                <th>EV/EBITDA</th>
              </tr>
            </thead>
            <tbody>                
              <tr ng-repeat="ticker in data">
                <th>{{ticker['Symbol']}} - {{ticker['Name']}}</th>
                <td>{{ticker['Market Capitalization']}}</td>
                <td>{{ticker['Last Trade (Price Only)']}}</td>
                <td>{{ticker['52-week Range']}}</td>
                <td>{{ticker['Short Ratio']}}</td>


                <td>{{ticker['Current Ratio']}}</td>
                <td>{{ticker['Quick Ratio']}}</td>
                <td><!--- Cash Conversion Cycle --></td>
                <td>{{ticker['Cash Ratio']}}</td>

                <td>{{ticker['Gross Margin']}}</td>
                <td>{{ticker['Operating Margin']}}</td>
                <td><!-- Net Profit Margin --></td>
                <td><!-- Return on Assets --></td>
                <td>{{ticker['After Tax ROE']}}</td>
                <td><!-- Return on Invested Capital --></td>

                <td><!-- Debt to Asset --></td>
                <td><!-- Debt to Equity --></td>
                <td><!-- Capital Structure --></td>
                <td><!-- Interest Coverage Ratio --></td>
                <td><!-- FCF to Debt --></td>

                <td><!-- Asset Turnover Ratio --></td>
                <td><!-- Operating Cycle --></td>
                <td><!-- Inventory Cycle --></td>

                <td><!-- Operating Cash Flow/Sales --></td>
                <td><!-- Free Cash Flow/Operating Cash --></td>
                <td><!-- Cash Flow Coverage --></td>
                <td>{{ticker['Dividend/Share']}}</td>

                <td>{{ticker['Price/Book']}}</td>
                <td>{{ticker['P/E Ratio']}}</td>
                <td>{{ticker['PEG Ratio']}}</td>
                <td>{{ticker['Price/Sales']}}</td>
                <td><!-- Price/NAV --></td>
                <td>{{ticker['Dividend Yield']}}</td>
                <td><!-- Cash Flow Coverage --></td>
                <td><!-- EV/EBITDA --></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</body>
</html>